{*** 핫딜 | goods/today_hot_deal.html ***}
{ # header }
<!-- 투데이 핫딜 추가 202010 -->
<link type="text/css" rel="stylesheet" href="../css/goods/goods.css">
<section id="contents_wrap" class="content">
	<div class="sub_time_sale" <!--{ ? eventOver == 'y' }-->style="display:none;"<!--{ / }-->>
		
		<!-- <div class="MTS_time">1<span>시</span>35<span>시</span>15<span>초</span></div> -->
		<div class="MTS_time"><strong id="timedata"></strong></div>
		<!-- 타임특가 딜 -->
		<div class="goods_prd_item6_li">
			<div class="slider_goods_list_4">
				<ul class="goods_prd_item6_scroll">
					<!-- 타임특가 한개 딜 단위 -->

					<!-- 시작 -->
					<!--{ @ goodsList }--> 
					<li class="swiper_slide">
						<div class="goods_prd_item6">
							<div class="goods_prd_item6_box">
								<div class="goods_prd_img">
									<div class="img_box">
										<a href="{.goodsUrl}" target="_self">
											<div class="img">
												{.goodsImage}
											</div>
										</a>
									</div>
								</div>
								<div class="goods_prd_content">
									<div class="goods_list_info">
										<img src="../img/event/img_timesale.jpg" alt="듀먼 타임특가" class="sub_time_sale_tit">
										<a href="{.goodsUrl}" target="_self">
											<div class="goods_prd_icon"></div>
											<ul class="goods_info_list">												
												<li class="prd_name">{.goodsNm}</li>
												<li class="price">
													<span style="color:#22a0ad;"><!--{ ? .fixedPrice != 0 && .goodsPrice != 0 }-->{=round((1-(.goodsPrice/.fixedPrice))*100)}%{:}0%<!--{ / }--></span>
													<span>
														{=number_format(.goodsPrice)} <span class="price_won"> 원</span>
														<span class="add_currency"> {=number_format(.fixedPrice)}</span>
													</span>
												</li>
												<!-- 별점 -->
												<li>
													<div class="star" style="display:block;">
													<!--{ @ range(5, 1) }-->
														<span class="starScore">
														<span class="score 
														{?.goodsPtUp >= ..key_ +1 } 
															score_100			
														{: .goodsPtUp + 1 == ..index_ +1 && .goodsPtDown >= 5 }
															score_50
														{:}

														{/}"></span></span>
													<!--{ / }-->
													<span class="score_txt">{.goodsPtCnt}</span>
													</div>
												</li>
												<!-- //별점 -->
												<!--{ ? .stockFl == 'y' }-->
												<li class="MTS_stock">남은수량 <strong> {.stockCnt}개</strong></li>
												<!--{ / }-->
											</ul>
										</a>
									</div>
								</div>
							</div>
						</div>
					</li>
					<!--{ / }-->
					<!-- //타임특가 한개 딜 단위 -->
				</ul>
			</div>
		</div>
		<!-- //타임특가 딜 -->
	</div>
	<!-- 위클리 핫딜 2021-04-02 -->
	<div class="main_bnr_pr w_custom sub_list" style="display:none;">
		<h2>위클리 핫딜</h2>
		<div class="bn_review_best"><!--{ @dataBanner('3500431767') }-->{.tag}<!--{ / }--></div>
		{=includeWidget('goods/_goods_display_main.html','sno','85')}
		<div class="bn_review_best"><!--{ @dataBanner('2819069950') }-->{.tag}<!--{ / }--></div>
		{=includeWidget('goods/_goods_display_main.html','sno','86')}
	</div>
	<div class="main_bnr_pr w_custom sub_list" style="margin-top:0;">
		<h2>투데이 핫딜</h2>
		<div class="bn_review_best"><!--{ @dataBanner('2368927421') }-->{.tag}<!--{ / }--></div>
		{=includeWidget('goods/_goods_display_main.html','sno','65')}
	</div>
</section>

<!--튜닝 스크립트 time -->
<script>
	const countDownTimer = function (id, date) {
		
		var splitdate = date.split("-");			//년, 월, 일시간 
		var splitdate2 = splitdate[2].split(" ");	//일 시간 
		var splitdate3 = splitdate2[1].split(":");	//시간 
		
		splitdate[1] = splitdate[1]-1;
		//console.log(splitdate);
		//var _vDate = new Date(date); // 전달 받은 일자 
		var _vDate = new Date(splitdate[0],splitdate[1],splitdate2[0],splitdate3[0],splitdate3[1]); // 전달 받은 일자 
		//console.log(_vDate);
		var _second = 1000; 
		var _minute = _second * 60; 
		var _hour = _minute * 60; 
		var _day = _hour * 24; 
		var timer; 
		
		function showRemaining() { 
			var now = new Date(); 
			//console.log(now);
			var distDt = _vDate - now; 
			if (distDt < 0) { clearInterval(timer); 
				document.getElementById(id).textContent = '이벤트 종료'; 
				return; 
			} 
			var days = Math.floor(distDt / _day);
			var hours = Math.floor((distDt % _day) / _hour);
			var minutes = Math.floor((distDt % _hour) / _minute);
			var seconds = Math.floor((distDt % _minute) / _second);
			
			//document.getElementById(id).textContent = date.toLocaleString() + "까지 : ";
			if( days == 0 ){
				//document.getElementById(id).textContent = days + '일 ';
				document.getElementById(id).textContent = hours + ':';
			}else{
				document.getElementById(id).textContent = days + '일';
				document.getElementById(id).textContent += hours + ':';
			}
			document.getElementById(id).textContent += minutes + ':';
			document.getElementById(id).textContent += seconds + ''; 
		}
			timer = setInterval(showRemaining, 1000); }
			var dateObj = new Date();

			//타임 endDt 
			var timeDt = "{timeSaleInfo.endDt}";

			var endDt = timeDt.split(" ");

			var endSplitData = endDt[0].split(".");

			
			//var test = endSplitData[0]+"T";
			//console.log(test);
			//날짜 +1
			//endSplitData[2] = parseInt(endSplitData[2])+1;

			//console.log(endSplitData[2]+'/'+endSplitData[1]+'/'+endSplitData[0]+' 23:59 PM');
			//console.log(dateObj.getDate());
			//dateObj.setDate(dateObj.getDate() + 1);
			//countDownTimer('timedata', dateObj);// 내일까지 
			//ountDownTimer('timedata', '04/01/2024 00:00 AM'); // 2024년 4월 1일까지, 시간을 표시하려면 01:00 AM과 같은 형식을 사용한다. 


			//countDownTimer('timedata', endSplitData[2]+'/'+endSplitData[1]+'/'+endSplitData[0]+' 23:59'); // 2024년 4월 1일까지 
			countDownTimer('timedata',endSplitData[0]+' 23:59'); // 2024년 4월 1일까지 


			//countDownTimer('timedata', '04/01/2019'); // 2024년 4월 1일까지 
</script>


{ # footer }